{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/updateActions.ts","webpack:///./src/render.ts","webpack:///./src/gui.ts","webpack:///./res/shaders/vertexShader.glsl","webpack:///./res/shaders/fragmentShader.glsl","webpack:///./res/style/index.css","webpack:///./res/style/index.css?eeb8","webpack:///./src/index.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","THREE","updateColorMethod","material","colorMethod","uniforms","needsUpdate","updateMultiplier","multiplier","updateOpacity","opacity","updateNoiseStrength","noiseStrength","updateCameraPosition","camera","camPosX","camPosY","position","setX","setY","updateCameraZoom","zoom","Math","pow","E","updateProjectionMatrix","updateRendererSize","threeEnv","height","width","aspectRatio","left","right","top","bottom","renderer","setSize","updateTotalLines","totalLines","positions","Float32Array","positionsAttribute","setArray","colors","colorsAttribute","numbers","numbersAttribute","total","updateRenderer","renderContainer","antialias","newRenderer","WebGLRenderer","setPixelRatio","devicePixelRatio","innerWidth","innerHeight","firstChild","Error","replaceChild","domElement","updateActions_1","RenderController","stats","input","this","frameRequested","updateSources","Set","postRenderCallbacks","requestRender","source","postRenderCallback","_this","add","requestAnimationFrame","render","begin","update","scene","prepareNextRender","end","has","camZoom","clear","oldPostRenderCallbacks","forEach","callback","dat_gui_1","initGUI","renderController","gui","GUI","mathsFolder","addFolder","min","step","onChange","multiplierController","animate","setValue","multiplierIncrement","open","animationFolder","max","colorFolder","renderFolder","cameraFolder","camPosXController","camPosYController","camZoomController","addEventListener","e","shiftKey","deltaY","buttons","circleDiameterPx","clientHeight","clientWidth","movementFactor","movementX","movementY","content","options","hmr","transform","insertInto","undefined","locals","fragmentShader","vertexShader","Stats","Gui","render_1","onload","showPanel","document","body","appendChild","dom","standard","resetCamera","__assign","getInitialInput","Scene","OrthographicCamera","setZ","lookAt","Vector3","geometry","BufferGeometry","ShaderMaterial","noise","Uint8Array","random","dataTexture","DataTexture","RGBAFormat","UnsignedByteType","UVMapping","RepeatWrapping","LinearFilter","getRandomNoiseTexture","blending","AdditiveBlending","depthTest","transparent","CustomBlending","blendEquation","AddEquation","blendSrc","SrcAlphaFactor","blendDst","OneFactor","BufferAttribute","addAttribute","mesh","LineSegments","frustumCulled","getThreeEnv","createElement","id","getRenderContainer"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([13,1,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import {ColorMethod, ThreeEnv, RenderContainer} from \"./interfaces\";\r\nimport * as THREE from \"three\";\r\n\r\nexport function updateColorMethod(material: THREE.ShaderMaterial, colorMethod: ColorMethod) {\r\n  switch (colorMethod) {\r\n    case 'solid':\r\n      material.uniforms.colorMethod.value = 0;\r\n      break;\r\n    case 'faded':\r\n      material.uniforms.colorMethod.value = 1;\r\n      break;\r\n    case 'lengthOpacity':\r\n      material.uniforms.colorMethod.value = 2;\r\n      break;\r\n    case 'lengthHue':\r\n      material.uniforms.colorMethod.value = 3;\r\n      break;\r\n  }\r\n\r\n  material.needsUpdate = true;\r\n}\r\n\r\nexport function updateMultiplier(material: THREE.ShaderMaterial, multiplier: number) {\r\n  material.uniforms.multiplier.value = multiplier;\r\n  material.needsUpdate = true;\r\n}\r\n\r\nexport function updateOpacity(material: THREE.ShaderMaterial, opacity: number) {\r\n  material.uniforms.opacity.value = opacity;\r\n  material.needsUpdate = true;\r\n}\r\n\r\nexport function updateNoiseStrength(material: THREE.ShaderMaterial, noiseStrength: number) {\r\n  material.uniforms.noiseStrength.value = noiseStrength;\r\n  material.needsUpdate = true;\r\n}\r\n\r\nexport function updateCameraPosition(camera: THREE.OrthographicCamera, camPosX: number, camPosY: number) {\r\n  camera.position.setX(camPosX);\r\n  camera.position.setY(camPosY);\r\n}\r\n\r\nexport function updateCameraZoom(camera: THREE.OrthographicCamera, zoom: number) {\r\n  camera.zoom = Math.pow(Math.E, zoom - 1);\r\n  camera.updateProjectionMatrix();\r\n}\r\n\r\nexport function updateRendererSize(threeEnv: ThreeEnv, height: number, width: number) {\r\n  const aspectRatio = width / height;\r\n\r\n  const camera = threeEnv.camera;\r\n\r\n  if (aspectRatio > 1) {\r\n    camera.left = -aspectRatio;\r\n    camera.right = aspectRatio;\r\n    camera.top = 1;\r\n    camera.bottom = -1;\r\n  } else {\r\n    camera.left = -1;\r\n    camera.right = 1;\r\n    camera.top = Math.pow(aspectRatio, -1);\r\n    camera.bottom = -Math.pow(aspectRatio, -1);\r\n  }\r\n\r\n  threeEnv.camera.updateProjectionMatrix();\r\n\r\n  threeEnv.renderer.setSize(width, height);\r\n}\r\n\r\nexport function updateTotalLines(threeEnv: ThreeEnv, totalLines: number) {\r\n  const positions = new Float32Array(totalLines * 6);\r\n  threeEnv.positionsAttribute.setArray(positions);\r\n\r\n  const colors = new Float32Array(totalLines * 6);\r\n  threeEnv.colorsAttribute.setArray(colors);\r\n\r\n  const numbers = new Float32Array(totalLines * 2);\r\n  threeEnv.numbersAttribute.setArray(numbers);\r\n  for (let i = 0; i < totalLines * 2; i++) {\r\n    numbers[i] = i;\r\n  }\r\n  threeEnv.numbersAttribute.needsUpdate = true;\r\n\r\n  threeEnv.material.uniforms.total.value = totalLines;\r\n  threeEnv.material.needsUpdate = true;\r\n\r\n  threeEnv.positionsAttribute.needsUpdate = true;\r\n}\r\n\r\nexport function updateRenderer(threeEnv: ThreeEnv, renderContainer: RenderContainer, antialias: boolean) {\r\n  const newRenderer = new THREE.WebGLRenderer({antialias});\r\n  newRenderer.setPixelRatio(window.devicePixelRatio);\r\n  newRenderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n  if (renderContainer.firstChild) {\r\n    renderContainer.replaceChild(newRenderer.domElement, renderContainer.firstChild);\r\n  } else {\r\n    throw new Error(\"No Render Container\");\r\n  }\r\n\r\n  threeEnv.renderer = newRenderer;\r\n}","import THREE = require(\"three\");\r\n\r\nimport {ThreeEnv, Input, UpdateSource, RenderContainer} from \"./interfaces\";\r\nimport {\r\n  updateTotalLines,\r\n  updateCameraPosition,\r\n  updateOpacity,\r\n  updateCameraZoom,\r\n  updateMultiplier,\r\n  updateRendererSize,\r\n  updateColorMethod,\r\n  updateNoiseStrength,\r\n  updateRenderer\r\n} from \"./updateActions\";\r\n\r\n\r\nexport class RenderController {\r\n  private frameRequested = false;\r\n  private postRenderCallbacks: Set<() => void>;\r\n\r\n  private readonly updateSources: Set<UpdateSource>;\r\n  private readonly stats: Stats;\r\n  private readonly threeEnv: ThreeEnv;\r\n  private readonly input: Input;\r\n  private readonly renderContainer: RenderContainer;\r\n\r\n  constructor(stats: Stats, threeEnv: ThreeEnv, input: Input, renderContainer: RenderContainer) {\r\n    this.stats = stats;\r\n    this.threeEnv = threeEnv;\r\n    this.input = input;\r\n    this.renderContainer = renderContainer;\r\n    this.updateSources = new Set();\r\n    this.postRenderCallbacks = new Set();\r\n  }\r\n\r\n  public requestRender(source: UpdateSource, postRenderCallback?: () => void) {\r\n    this.updateSources.add(source);\r\n\r\n    if (!this.frameRequested) {\r\n      this.frameRequested = true;\r\n      requestAnimationFrame(() => this.render());\r\n    }\r\n\r\n    if (postRenderCallback) {\r\n      this.postRenderCallbacks.add(postRenderCallback);\r\n    }\r\n  }\r\n\r\n  private render() {\r\n    this.stats.begin();\r\n\r\n    this.frameRequested = false;\r\n\r\n    this.update();\r\n\r\n    this.threeEnv.renderer.render(this.threeEnv.scene, this.threeEnv.camera);\r\n\r\n    this.prepareNextRender();\r\n\r\n    this.stats.end();\r\n  }\r\n\r\n  private update() {\r\n    if (this.updateSources.has(\"init\")) {\r\n      updateRenderer(this.threeEnv, this.renderContainer, this.input.antialias);\r\n      updateRendererSize(this.threeEnv, window.innerHeight, window.innerWidth);\r\n      updateTotalLines(this.threeEnv, this.input.totalLines);\r\n      updateMultiplier(this.threeEnv.material, this.input.multiplier);\r\n      updateColorMethod(this.threeEnv.material, this.input.colorMethod);\r\n      updateOpacity(this.threeEnv.material, this.input.opacity);\r\n      updateCameraPosition(this.threeEnv.camera, this.input.camPosX, this.input.camPosY);\r\n      updateCameraZoom(this.threeEnv.camera, this.input.camZoom);\r\n    }\r\n\r\n    if (this.updateSources.has(\"antialias\")) {\r\n      updateRenderer(this.threeEnv, this.renderContainer, this.input.antialias);\r\n    }\r\n\r\n    if (this.updateSources.has(\"totalLines\")) {\r\n      updateTotalLines(this.threeEnv, this.input.totalLines);\r\n    }\r\n\r\n    if (this.updateSources.has(\"multiplier\")) {\r\n      updateMultiplier(this.threeEnv.material, this.input.multiplier);\r\n    }\r\n\r\n    if (this.updateSources.has(\"colorMethod\")) {\r\n      updateColorMethod(this.threeEnv.material, this.input.colorMethod);\r\n    }\r\n\r\n    if (this.updateSources.has(\"noiseStrength\")) {\r\n      updateNoiseStrength(this.threeEnv.material, this.input.noiseStrength);\r\n    }\r\n\r\n    if (this.updateSources.has(\"camPosX\") ||\r\n      this.updateSources.has(\"camPosY\")) {\r\n      updateCameraPosition(this.threeEnv.camera, this.input.camPosX, this.input.camPosY);\r\n    }\r\n\r\n    if (this.updateSources.has(\"camZoom\")) {\r\n      updateCameraZoom(this.threeEnv.camera, this.input.camZoom);\r\n    }\r\n\r\n    if (this.updateSources.has(\"opacity\")) {\r\n      updateOpacity(this.threeEnv.material, this.input.opacity);\r\n    }\r\n\r\n    if (this.updateSources.has(\"resize\")) {\r\n      updateRendererSize(this.threeEnv, window.innerHeight, window.innerWidth);\r\n    }\r\n  }\r\n\r\n  private prepareNextRender() {\r\n    this.updateSources.clear();\r\n\r\n    // clear postRenderCallbacks before executing the previous callbacks\r\n    // this allows renderCallbacks to requestRender with callbacks\r\n    const oldPostRenderCallbacks = this.postRenderCallbacks;\r\n\r\n    this.postRenderCallbacks = new Set();\r\n\r\n    oldPostRenderCallbacks.forEach(callback => callback());\r\n  }\r\n}\r\n","import {RenderController} from \"./render\";\r\nimport {GUI} from \"dat.gui\";\r\nimport {Input, ColorMethod, UpdateSource, RenderContainer} from \"./interfaces\";\r\n\r\nexport function initGUI(input: Input, renderController: RenderController, renderContainer: RenderContainer) {\r\n  let gui = new GUI();\r\n\r\n  const totalLines: UpdateSource = \"totalLines\";\r\n  const multiplier: UpdateSource = \"multiplier\";\r\n  const animate: UpdateSource = \"animate\";\r\n  const multiplierIncrement: UpdateSource = \"multiplierIncrement\";\r\n  const opacity: UpdateSource = \"opacity\";\r\n  const colorMethod: UpdateSource = \"colorMethod\";\r\n  const noiseStrength: UpdateSource = \"noiseStrength\";\r\n  const antialias: UpdateSource = \"antialias\";\r\n  const camPosX: UpdateSource = \"camPosX\";\r\n  const camPosY: UpdateSource = \"camPosY\";\r\n  const camZoom: UpdateSource = \"camZoom\";\r\n  const resetCamera: UpdateSource = \"resetCamera\";\r\n\r\n  const mathsFolder = gui.addFolder(\"Maths\");\r\n  mathsFolder.add(input, totalLines).min(0).step(1)\r\n    .onChange(() => renderController.requestRender(totalLines));\r\n\r\n  const multiplierController = mathsFolder.add(input, multiplier).step(1e-06);\r\n\r\n  function postRenderCallback() {\r\n    if (input.animate) {\r\n      multiplierController.setValue(input.multiplier + Math.pow(input.multiplierIncrement, 3));\r\n    }\r\n  }\r\n\r\n  multiplierController.onChange(\r\n    () => renderController.requestRender(multiplier, postRenderCallback)\r\n  );\r\n  mathsFolder.open();\r\n\r\n  const animationFolder = gui.addFolder(\"Animation\");\r\n  animationFolder.add(input, animate)\r\n    .onChange(() => renderController.requestRender(animate, postRenderCallback));\r\n  animationFolder.add(input, multiplierIncrement).min(-1).max(1).step(0.001)\r\n    .onChange(() => renderController.requestRender(multiplierIncrement));\r\n  animationFolder.open();\r\n\r\n  const colorFolder = gui.addFolder(\"Color\");\r\n  colorFolder.add(input, opacity, 0, 1).step(0.001)\r\n    .onChange(() => renderController.requestRender(opacity));\r\n  const colorMethods: Array<ColorMethod> = ['solid', 'faded', 'lengthOpacity', 'lengthHue'];\r\n  colorFolder.add(input, colorMethod, colorMethods)\r\n    .onChange(() => renderController.requestRender(colorMethod));\r\n  colorFolder.open();\r\n\r\n  const renderFolder = gui.addFolder(\"Render\");\r\n  renderFolder.add(input, noiseStrength, 0, 255).step(0.5)\r\n    .onChange(() => renderController.requestRender(noiseStrength));\r\n  renderFolder.add(input, antialias)\r\n    .onChange(() => renderController.requestRender(antialias));\r\n  renderFolder.open();\r\n\r\n  const cameraFolder = gui.addFolder(\"Camera\");\r\n  const camPosXController = cameraFolder.add(input, camPosX, -1, 1).step(1e-06);\r\n  camPosXController.onChange(() => renderController.requestRender(camPosX));\r\n  const camPosYController = cameraFolder.add(input, camPosY, -1, 1).step(1e-06);\r\n  camPosYController.onChange(() => renderController.requestRender(camPosY));\r\n  const camZoomController = cameraFolder.add(input, camZoom, 1).step(0.01);\r\n  camZoomController.onChange(() => renderController.requestRender(camZoom));\r\n  cameraFolder.add(input, resetCamera)\r\n    .onChange(() => {\r\n      camPosXController.setValue(0);\r\n      camPosYController.setValue(0);\r\n      camZoomController.setValue(1);\r\n    });\r\n  cameraFolder.open();\r\n\r\n\r\n  renderContainer.addEventListener(\"wheel\", (e: WheelEvent) => {\r\n    if (e.shiftKey) {\r\n      camZoomController.setValue(input.camZoom - e.deltaY / 1000);\r\n    }\r\n  });\r\n\r\n  renderContainer.addEventListener(\"mousemove\", (e: MouseEvent) => {\r\n    if (e.buttons === 1 && e.shiftKey) {\r\n      const circleDiameterPx = Math.min(renderContainer.clientHeight, renderContainer.clientWidth);\r\n\r\n      const realZoom = Math.pow(Math.E, input.camZoom - 1);\r\n\r\n      const movementFactor = realZoom * circleDiameterPx / 2;\r\n\r\n      camPosXController.setValue(input.camPosX - e.movementX / movementFactor);\r\n      camPosYController.setValue(input.camPosY + e.movementY / movementFactor);\r\n    }\r\n  })\r\n}\r\n","module.exports = \"uniform float multiplier;\\r\\nuniform float total;\\r\\nuniform int colorMethod;\\r\\n\\r\\nattribute float number;\\r\\nattribute vec3 color;\\r\\n\\r\\nvarying vec3 vColor;\\r\\nvarying float vLinePosition;\\r\\n\\r\\n#define PI 3.1415926535897932384626433832795\\r\\n\\r\\nbool isStartCord(float number);\\r\\nvec2 getCircleCord(float number, float total);\\r\\nvec3 hsv2rgb(vec3 c);\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n  vec3 newPosition = position;\\r\\n\\r\\n  bool startCord = isStartCord(number);\\r\\n\\r\\n  if (startCord) {\\r\\n    newPosition.xy =  getCircleCord(number / 2.0, total);\\r\\n    vLinePosition = 1.0;\\r\\n  } else {\\r\\n    newPosition.xy =  getCircleCord( floor(number / 2.0) * multiplier, total);\\r\\n    vLinePosition = 0.0;\\r\\n  }\\r\\n\\r\\n  float theta = 2.0 * PI * floor(number / 2.0) * (multiplier - 1.0) / total;\\r\\n  float distance = abs(sin(theta / 2.0));\\r\\n\\r\\n  gl_Position = projectionMatrix *\\r\\n                modelViewMatrix *\\r\\n                vec4(newPosition,1.0);\\r\\n\\r\\n  // colorMethod switch\\r\\n  if (colorMethod == 0) {\\r\\n    // solid\\r\\n    vColor.xyz = vec3(1.0);\\r\\n  } else if (colorMethod == 1) {\\r\\n    // faded\\r\\n    if (startCord) {\\r\\n      vColor.xyz = vec3(1.0);\\r\\n    } else {\\r\\n      vColor.xyz = vec3(0.0);\\r\\n    }\\r\\n  } else if (colorMethod == 2) {\\r\\n    // lengthOpacity\\r\\n    vColor.xyz = vec3(1.0 - distance);\\r\\n  } else if (colorMethod == 3) {\\r\\n    // lengthHue\\r\\n    vColor.xyz = vec3(hsv2rgb(vec3(distance, 1.0, 1.0)));\\r\\n  } else {\\r\\n    // fallback error red\\r\\n    vColor.xyz = vec3(1.0, 0.0, 0.0);\\r\\n  }\\r\\n}\\r\\n\\r\\nbool isStartCord(float number) {\\r\\n  return mod(number, 2.0) < 0.01;\\r\\n}\\r\\n\\r\\nvec2 getCircleCord(float number, float total) {\\r\\n    float normalized = 2.0 * PI * number / total;\\r\\n    return vec2(cos(normalized), sin(normalized));\\r\\n}\\r\\n\\r\\n// source: http://gamedev.stackexchange.com/a/59808\\r\\nvec3 hsv2rgb(vec3 c)\\r\\n{\\r\\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\\r\\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\\r\\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\\r\\n}\"","module.exports = \"uniform float opacity;\\r\\nuniform sampler2D noise;\\r\\nuniform float noiseStrength;\\r\\n\\r\\nvarying vec3 vColor;\\r\\nvarying float vLinePosition;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = vec4(vColor, opacity);\\r\\n\\r\\n  float noise = vec4(texture2D(noise, vec2(vLinePosition * 1024.0, 0.5))).r;\\r\\n\\r\\n  gl_FragColor.rgb += mix(-noiseStrength/255.0, noiseStrength/255.0, noise);\\r\\n}\"","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"canvas {\\r\\n    display: block;\\r\\n}\\r\\nbody {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n#render-container {\\r\\n  user-select: none;\\r\\n  cursor: default;\\r\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// webpack\r\nimport \"../res/style/index.css\";\r\nimport * as fragmentShader from \"../res/shaders/fragmentShader.glsl\";\r\nimport * as vertexShader from \"../res/shaders/vertexShader.glsl\";\r\n// npm\r\nimport * as THREE from \"three\";\r\nimport Stats = require(\"stats.js\");\r\n// own\r\nimport * as Gui from \"./gui\";\r\nimport {RenderController} from \"./render\"\r\nimport {ThreeEnv, Input, RenderContainer} from \"./interfaces\";\r\n\r\n\r\nfunction getInitialInput(): Input {\r\n  const standard: Input = {\r\n    totalLines: 10,\r\n    multiplier: 2,\r\n    animate: false,\r\n    multiplierIncrement: 0.2,\r\n    opacity: 1,\r\n    colorMethod: 'lengthHue',\r\n    noiseStrength: 0.5,\r\n    antialias: false,\r\n    camPosX: 0,\r\n    camPosY: 0,\r\n    camZoom: 1,\r\n    resetCamera: () => {\r\n    }\r\n  };\r\n\r\n  const benchmark: Input = {\r\n    ...standard,\r\n    totalLines: 250000,\r\n    multiplier: 100000,\r\n    multiplierIncrement: 1,\r\n    opacity: 0.005,\r\n    colorMethod: 'faded',\r\n  };\r\n\r\n  const debug: Input = {\r\n    ...standard,\r\n    totalLines: 10,\r\n    multiplier: 2,\r\n    multiplierIncrement: 0.005,\r\n    colorMethod: 'faded',\r\n  };\r\n\r\n  const debugBlending: Input = {\r\n    ...standard,\r\n    totalLines: 10000,\r\n    opacity: 0.05,\r\n  };\r\n\r\n  const initialInputs = {\r\n    standard,\r\n    benchmark,\r\n    debug,\r\n    debugBlending\r\n  };\r\n\r\n  return initialInputs.standard;\r\n}\r\n\r\n\r\nfunction init() {\r\n  const stats = new Stats();\r\n  stats.showPanel(1);\r\n  document.body.appendChild(stats.dom);\r\n\r\n  const input = getInitialInput();\r\n\r\n  const threeEnv = getThreeEnv();\r\n\r\n  const renderContainer = getRenderContainer(threeEnv.renderer);\r\n\r\n  const renderController = new RenderController(stats, threeEnv, input, renderContainer);\r\n\r\n  window.addEventListener('resize', () => renderController.requestRender(\"resize\"));\r\n\r\n  Gui.initGUI(input, renderController, renderContainer);\r\n\r\n  renderController.requestRender(\"init\");\r\n}\r\n\r\nfunction getRenderContainer(renderer: THREE.WebGLRenderer): RenderContainer {\r\n  const renderContainer = document.createElement(\"div\");\r\n  renderContainer.id = \"render-container\";\r\n  document.body.appendChild(renderContainer);\r\n\r\n  renderContainer.appendChild(renderer.domElement);\r\n\r\n  return renderContainer;\r\n}\r\n\r\n// TODO: try other kinds of noises\r\nfunction getRandomNoiseTexture() {\r\n  const width = 1024;\r\n  const data = new Uint8Array(4 * width);\r\n  for (let i = 0; i < width * 4; i++) {\r\n    data[i] = Math.random() * 255 | 0;\r\n  }\r\n\r\n  const dataTexture = new THREE.DataTexture(data, width, 1, THREE.RGBAFormat, THREE.UnsignedByteType, THREE.UVMapping,\r\n    THREE.RepeatWrapping, THREE.RepeatWrapping, THREE.LinearFilter, THREE.LinearFilter);\r\n  dataTexture.needsUpdate = true;\r\n  return dataTexture;\r\n}\r\n\r\n/**\r\n * Static initialization of render environment\r\n */\r\nfunction getThreeEnv(): ThreeEnv {\r\n  const renderer = new THREE.WebGLRenderer({antialias: true});\r\n  renderer.setPixelRatio(window.devicePixelRatio);\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n\r\n  const scene = new THREE.Scene();\r\n\r\n  const camera = new THREE.OrthographicCamera(-1, 1, 1, -1);\r\n  camera.position.setZ(1);\r\n  camera.lookAt(new THREE.Vector3(0, 0, 0));\r\n\r\n  const geometry = new THREE.BufferGeometry();\r\n  const material = new THREE.ShaderMaterial({\r\n    uniforms: {\r\n      multiplier: {value: 2},\r\n      total: {value: 10},\r\n      opacity: {value: 1},\r\n      colorMethod: {value: 0},\r\n      noise: {value: getRandomNoiseTexture()},\r\n      noiseStrength: {value: 1}\r\n    },\r\n    vertexShader: vertexShader,\r\n    fragmentShader: fragmentShader,\r\n    blending: THREE.AdditiveBlending,\r\n    depthTest: false,\r\n    transparent: true\r\n  });\r\n\r\n  material.blending = THREE.CustomBlending;\r\n  material.blendEquation = THREE.AddEquation;\r\n  material.blendSrc = THREE.SrcAlphaFactor;\r\n  material.blendDst = <any> THREE.OneFactor;\r\n\r\n  const positions = new Float32Array(0);\r\n  const positionsAttribute = new THREE.BufferAttribute(positions, 3);\r\n  geometry.addAttribute('position', positionsAttribute);\r\n\r\n  const colors = new Float32Array(0);\r\n  const colorsAttribute = new THREE.BufferAttribute(colors, 3);\r\n  geometry.addAttribute('color', colorsAttribute);\r\n\r\n  const numbers = new Float32Array(0);\r\n  const numbersAttribute = new THREE.BufferAttribute(numbers, 1);\r\n  geometry.addAttribute('number', numbersAttribute);\r\n\r\n\r\n  const mesh = new THREE.LineSegments(geometry, material);\r\n  // TODO: find out why this is needed with OrthographicCamera and zoom\r\n  mesh.frustumCulled = false;\r\n\r\n  scene.add(mesh);\r\n\r\n  return {\r\n    renderer,\r\n    scene,\r\n    camera,\r\n    geometry,\r\n    material,\r\n    positionsAttribute,\r\n    colorsAttribute,\r\n    numbersAttribute\r\n  };\r\n}\r\n\r\nwindow.onload = init;"],"sourceRoot":""}